<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" type="image/x-icon" href="./assets/logo-lobo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twitch ySLAYONx || Multiplicar Nomes</title>
    <link rel="stylesheet" href="./style.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</head>

<body>
    <div class="rains-container">
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
        <div class="rain"></div>
    </div>
    <div id="container">
        <img class='logo' src='./assets/logo-lobo.png' alt="" />
        <h1 class="nome">ySLAYONx</h1>
        <h1>Multiplicar Nomes</h1>
        <p>Insira o nome e a quantidade no formato NICK : (QUANTIDADE)</p>
        <textarea id="input" placeholder="Ex: yslayonx :3"></textarea>
        <button onclick="multiplicarNomes()">Calcular</button>
        <button id="copiarTodosTopo" onclick="copiarTodos()">Copiar Todos</button>
        <div class="social">
        <h3>Redes Sociais<br/>Sorteios de Seg a Sex a partir das 19hs</h3>
          <a href="https://www.twitch.tv/yslayonx" target="_blank">
                <img  src="./assets/ico.gif" alt=""/>
                
            </a>
            <a href="https://instagram.com/yslayonx" target="_blank">
                <img  src="./assets/insta.gif" alt=""/>                
            </a>
        </div>
        <div id="resultado-container">
            <p id="resultado"></p>
            <button onclick="selecionarTodos()">Selecionar Todos</button>
            <!-- O botão "Copiar Todos" foi removido desta posição -->
        </div>
    </div>

    <script>
        const rains = document.querySelectorAll(".rain");
        const getRandomNumber = (min, max) => {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }
        rains.forEach(rain => {
            rain.style = `--rain-delay:${getRandomNumber(0, 1000)}ms`;
        })



        function multiplicarNomes() {
            var inputElement = document.getElementById("input");
            var resultadoElement = document.getElementById("resultado");

            var entradas = inputElement.value.split('\n');
            var resultado = "";

            for (var i = 0; i < entradas.length; i++) {
                var partes = entradas[i].split(':');

                if (partes.length === 2 && !isNaN(partes[1].trim())) {
                    var nick = partes[0].trim();
                    var quantidade = parseInt(partes[1].trim());

                    // Adiciona cada linha com o nome multiplicado
                    for (var j = 0; j < quantidade; j++) {
                        resultado += nick + "<br>";
                    }
                } else {
                    resultado += "Entrada inválida na linha " + (i + 1) + ". Certifique-se de usar o formato correto.<br>";
                }
            }

            resultadoElement.innerHTML = resultado;
        }

        function selecionarTodos() {
            var resultadoElement = document.getElementById("resultado");

            // Seleciona todo o conteúdo dentro do elemento p
            var range = document.createRange();
            range.selectNodeContents(resultadoElement);

            var selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
        }

        function copiarTodos() {
            var resultadoElement = document.getElementById("resultado");

            // Seleciona todo o conteúdo dentro do elemento p
            var range = document.createRange();
            range.selectNodeContents(resultadoElement);

            var selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);

            // Copia o conteúdo selecionado para a área de transferência
            document.execCommand("copy");

            // Limpa a seleção
            selection.removeAllRanges();

            alert("Nomes copiados para a área de transferência!");
        }
    </script>
</body>

</html>